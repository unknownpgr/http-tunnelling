(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=require("crypto");var t=e.n(n);const r=require("net");var o,a=e.n(r);function c(e,n,t,r){var o=Buffer.alloc(9);o.writeUInt8(n,0),o.writeUInt32BE(t||0,1),o.writeUInt32BE((null==r?void 0:r.length)||0,5),e.write(Buffer.concat([o,r||Buffer.alloc(0)]))}(o={})[1]="data",o[2]="close",o[4]="log";var i,u=function(e,n){var t,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,i[0]&&(c=0)),c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=n.call(e,c)}catch(e){i=[6,e],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},l=process.argv[2].split(":"),s=l[0],f=l[1],d=f?parseInt(f):80,p=(i=Buffer.alloc(0),function(e){i=Buffer.concat([i,e]);for(var n=[];i.length>=9;){var t=i.readUInt8(0),r=i.readUInt32BE(1),o=i.readUInt32BE(5);if(i.length<9+o)break;var a=i.subarray(9,9+o);i=i.subarray(9+o),n.push({type:t,id:r,data:a})}return n}),v={},h=t().randomBytes(32);!function(){var e,n,t,r;e=this,n=void 0,r=function(){var e;return u(this,(function(n){switch(n.label){case 0:e=function(){var e,n,t,r,o;return u(this,(function(i){switch(i.label){case 0:console.log("Connecting to server"),function(e,n){c(e,8,0,n)}(e=a().createConnection(81,"tunnel.unknownpgr.com"),h),n=function(n){var t=a().createConnection(d,s,(function(){console.log("Connected to application")}));t.on("data",(function(t){!function(e,n,t){c(e,1,n,t)}(e,n,t)})),t.on("close",(function(){!function(e,n){c(e,2,n)}(e,n),delete v[n]})),v[n]=t},e.on("data",(function(e){for(var t=0,r=p(e);t<r.length;t++){var o=r[t],a=o.type,c=o.id,i=o.data;1===a?(v[c]||n(c),v[c].write(i)):2===a?v[c]&&(v[c].end(),delete v[c]):4===a&&console.log(i.toString())}})),t=new Promise((function(n,t){e.on("close",n),e.on("error",t)})),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,t];case 2:return i.sent(),[3,4];case 3:return r=i.sent(),console.error(r),[3,4];case 4:for(o in console.log("Disconnected from server"),v)v[o].destroy(),delete v[o];return console.log("Waiting for 5 seconds"),[4,new Promise((function(e){return setTimeout(e,5e3)}))];case 5:return i.sent(),[2]}}))},n.label=1;case 1:return[5,e()];case 2:return n.sent(),[3,1];case 3:return[2]}}))},new((t=void 0)||(t=Promise))((function(o,a){function c(e){try{u(r.next(e))}catch(e){a(e)}}function i(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,i)}u((r=r.apply(e,n||[])).next())}))}()})();