(()=>{"use strict";var e={n:n=>{var t=n&&n.__esModule?()=>n.default:()=>n;return e.d(t,{a:t}),t},d:(n,t)=>{for(var r in t)e.o(t,r)&&!e.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:t[r]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const n=require("crypto");var t=e.n(n);const r=require("net");var o,a=e.n(r);function c(e,n,t,r){var o=Buffer.alloc(9);o.writeUInt8(n,0),o.writeUInt32BE(t||0,1),o.writeUInt32BE((null==r?void 0:r.length)||0,5),e.write(Buffer.concat([o,r||Buffer.alloc(0)]))}(o={})[1]="data",o[2]="close",o[4]="log";var u,i=function(e,n){var t,r,o,a,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(u){return function(i){return function(u){if(t)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(c=0)),c;)try{if(t=1,r&&(o=2&u[0]?r.return:u[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,u[1])).done)return o;switch(r=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return c.label++,{value:u[1],done:!1};case 5:c.label++,r=u[1],u=[0];continue;case 7:u=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==u[0]&&2!==u[0])){c=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){c.label=u[1];break}if(6===u[0]&&c.label<o[1]){c.label=o[1],o=u;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(u);break}o[2]&&c.ops.pop(),c.trys.pop();continue}u=n.call(e,c)}catch(e){u=[6,e],r=0}finally{t=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,i])}}},l=process.argv[2].split(":"),s=l[0],f=l[1],d=f?parseInt(f):80,p=(u=Buffer.alloc(0),function(e){u=Buffer.concat([u,e]);for(var n=[];u.length>=9;){var t=u.readUInt8(0),r=u.readUInt32BE(1),o=u.readUInt32BE(5);if(u.length<9+o)break;var a=u.subarray(9,9+o);u=u.subarray(9+o),n.push({type:t,id:r,data:a})}return n}),v={},h=t().randomBytes(32);!function(){var e,n,t,r;e=this,n=void 0,r=function(){var e;return i(this,(function(n){switch(n.label){case 0:e=function(){var e,n,t,r,o;return i(this,(function(u){switch(u.label){case 0:console.log("Connecting to server"),function(e,n){c(e,8,0,n)}(e=a().createConnection(81,"tunnel.unknownpgr.com"),h),n=function(n){var t=a().createConnection(d,s);t.on("data",(function(t){!function(e,n,t){c(e,1,n,t)}(e,n,t)})),t.on("close",(function(){!function(e,n){c(e,2,n)}(e,n),delete v[n]})),v[n]=t},e.on("data",(function(e){for(var t=0,r=p(e);t<r.length;t++){var o=r[t],a=o.type,c=o.id,u=o.data;1===a?(v[c]||n(c),v[c].write(u)):2===a?v[c]&&(v[c].end(),delete v[c]):4===a&&console.log(u.toString())}})),t=new Promise((function(n,t){e.on("close",n),e.on("error",t)})),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,t];case 2:return u.sent(),[3,4];case 3:return r=u.sent(),console.error(r),[3,4];case 4:for(o in console.log("Disconnected from server"),v)v[o].destroy(),delete v[o];return console.log("Waiting for 5 seconds"),[4,new Promise((function(e){return setTimeout(e,5e3)}))];case 5:return u.sent(),[2]}}))},n.label=1;case 1:return[5,e()];case 2:return n.sent(),[3,1];case 3:return[2]}}))},new((t=void 0)||(t=Promise))((function(o,a){function c(e){try{i(r.next(e))}catch(e){a(e)}}function u(e){try{i(r.throw(e))}catch(e){a(e)}}function i(e){var n;e.done?o(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(c,u)}i((r=r.apply(e,n||[])).next())}))}()})();